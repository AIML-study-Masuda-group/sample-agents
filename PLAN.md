# プロジェクト実装計画書

> **注意**: このファイルはテンプレートです。実際のプロジェクトに合わせて内容を書き換えてください。

## 目次
- [1. プロジェクト概要](#1-プロジェクト概要)
- [2. 要件定義](#2-要件定義)
- [3. システム構成](#3-システム構成)
- [4. 実装フェーズ](#4-実装フェーズ)
- [5. ディレクトリ構成](#5-ディレクトリ構成)
- [6. 費用見積もり](#6-費用見積もり)（該当する場合）
- [7. 技術仕様](#7-技術仕様)
- [8. 実装手順](#8-実装手順)
- [9. テスト計画](#9-テスト計画)
- [10. リスクと対策](#10-リスクと対策)

---

## 🚀 現在の状況と次のステップ

> **注意**: プロジェクトの進捗を常に更新してください。AIと人が現在地を共有するために重要です。

### 📊 実装済み機能

| フェーズ | 機能 | ステータス | 備考 |
|---------|------|-----------|------|
| Phase 1 | 〇〇機能 | ✅ 完了 | 〇〇を実装済み |
| Phase 2 | △△機能 | ⏳ 進行中 | XXXまで完了 |
| Phase 3 | □□機能 | 📋 未着手 | XXXが完了後に開始 |

### 🎯 次のステップ

1. **Phase X のYYY機能**（今すぐ）
   ```bash
   # 実行するコマンド例
   mise run tf:plan
   ```

2. **データの確認**（翌日以降）
   ```bash
   # 確認コマンド例
   mise run py:test
   ```

3. **動作確認**（データ確認後）
   - 手動テスト項目
   - 確認すべきログやメトリクス

### ⚠️ 既知の問題と対応

- **問題1**: XXXができない
  - 現在の対応: YYYで代替している
  - 将来的な対応: ZZZを実装予定（Issue #123）

---

## 1. プロジェクト概要

### 目的
このプロジェクトが解決する課題や達成する目標を記述してください。

例：
- ユーザー認証機能を追加し、セキュアなアクセス管理を実現する
- データパイプラインを構築し、日次でデータを集計する
- インフラをコード化し、再現性と保守性を向上させる

### 対象ユーザー
誰のためのシステムか記述してください。

例：
- プロジェクトメンバー
- エンドユーザー
- 管理者

### 背景
なぜこのプロジェクトが必要なのか、背景を記述してください。

---

## 2. 要件定義

### 機能要件

#### FR-1: 機能名
- **説明**: 機能の概要
- **入力**: 何を受け取るか
- **出力**: 何を返すか
- **制約**: 守るべき制約

#### FR-2: 機能名
（同様に記述）

### 非機能要件

#### NFR-1: セキュリティ
- 認証情報の管理方法
- アクセス制御
- データ暗号化

#### NFR-2: パフォーマンス
- 応答時間の目標
- スループットの目標
- スケーラビリティ

#### NFR-3: 可用性
- 稼働率の目標
- 障害復旧時間の目標

#### NFR-4: 保守性
- コードの可読性
- ドキュメント整備
- テストカバレッジ

#### NFR-5: コスト効率（該当する場合）
- 月額コスト目標
- 無料枠の活用方針

---

## 3. システム構成

### アーキテクチャ図

```
（ここにシステム構成図を記述）

例：
┌─────────────────┐
│   Frontend      │
│   (React)       │
└────────┬────────┘
         │
         ▼
┌─────────────────┐
│   Backend API   │
│   (Express)     │
└────────┬────────┘
         │
         ▼
┌─────────────────┐
│   Database      │
│   (PostgreSQL)  │
└─────────────────┘
```

### 使用する技術スタック

| レイヤー | 技術 | バージョン | 用途 |
|---------|------|-----------|------|
| Frontend | React | 18.x | UI構築 |
| Backend | Node.js | 20.x | API サーバー |
| Database | PostgreSQL | 15.x | データ保存 |
| Infra | Terraform | 1.13.3 | インフラ管理 |
| CI/CD | GitHub Actions | - | 自動テスト・デプロイ |

---

## 4. 実装フェーズ

### Phase 1: 基礎機能（最小構成）

**目的**: 最小限の機能で動作するシステムを構築

**実装内容**:
1. XXXの作成
2. YYYの設定
3. ZZZの実装

**成果物**:
- XXXが動作すること
- YYYにデータが保存されること

**工数**: X時間〜Y時間

**検証方法**:
```bash
# 確認コマンド
mise run py:test
```

---

### Phase 2: 機能拡張

**目的**: XXXを追加

**実装内容**:
1. AAAの作成
2. BBBの設定

**成果物**:
- AAAが定期実行されること
- BBBにレポートが送信されること

**工数**: X時間〜Y時間

**検証方法**:
```bash
# 確認コマンド
mise run tf:plan
```

---

### Phase 3: その他のフェーズ

（同様に記述）

---

## 5. ディレクトリ構成

### 最終的なディレクトリ構成

```
project-root/
├── .gitignore
├── README.md
├── PLAN.md
├── RUNBOOK.md
├── CONTRIBUTING.md
├── AGENTS.md
├── CLAUDE.md
├── mise.toml
├── src/
│   ├── components/
│   ├── services/
│   └── utils/
├── tests/
│   ├── unit/
│   └── integration/
└── docs/
    └── api.md
```

### Phase ごとの追加ファイル

**Phase 1**:
```
src/
├── index.ts
└── config.ts
```

**Phase 2**:
```
src/
├── api/
│   └── routes.ts
└── db/
    └── schema.sql
```

---

## 6. 費用見積もり

> **注意**: クラウドサービスを使う場合のみ記載してください。

### 前提条件
- XXXの利用量: YYY
- 月間稼働: 30日

### サービス別費用

| サービス | 仕様 | 単価 | 月間利用量 | 月額概算 (円) |
|---------|------|------|-----------|-------------|
| サービスA | XXX | $Y/GB | ZGB | ¥NNN |
| サービスB | XXX | $Y/時間 | Z時間 | ¥MMM |

**合計**: **¥X,XXX/月**

### コスト最適化の施策

1. 無料枠の活用
2. 不要なリソースの削除
3. オートスケーリングの設定

---

## 7. 技術仕様

### API仕様（該当する場合）

#### エンドポイント: POST /api/users

- **説明**: ユーザーを作成
- **リクエスト**:
  ```json
  {
    "name": "string",
    "email": "string"
  }
  ```
- **レスポンス**:
  ```json
  {
    "id": "string",
    "name": "string",
    "email": "string"
  }
  ```

### データベーススキーマ（該当する場合）

```sql
CREATE TABLE users (
  id UUID PRIMARY KEY,
  name VARCHAR(255) NOT NULL,
  email VARCHAR(255) UNIQUE NOT NULL,
  created_at TIMESTAMP DEFAULT NOW()
);
```

---

## 8. 実装手順

### セットアップ（初回のみ）

#### 1. リポジトリのクローン

```bash
git clone https://github.com/your-org/your-project.git
cd your-project
```

#### 2. ツールのインストール

```bash
mise install
```

#### 3. 依存関係のインストール

```bash
# Python の場合
mise run py:sync

# Node.js の場合
npm install
```

#### 4. 認証設定

```bash
# 環境に応じた認証コマンド
gcloud auth application-default login
```

---

### Phase 1-N: 各フェーズの実装手順

**Phase 1 の実装手順**:

1. XXXを作成
```bash
mise run py:test
```

2. YYYを設定
```bash
mise run tf:plan
```

3. ZZZを確認
```bash
mise run gh:pr
```

---

## 9. テスト・検証

### 単体テスト

```bash
# Python
mise run py:test

# Node.js
npm test
```

### 統合テスト

```bash
# 統合テストコマンド
npm run test:integration
```

### E2Eテスト

```bash
# E2Eテストコマンド
npm run test:e2e
```

---

## 10. リスクと対策

### 主なリスク

| リスク | 影響度 | 対策 |
|--------|--------|------|
| データ遅延 | 中 | リトライ処理を実装 |
| 認証情報漏洩 | 高 | Secret Manager で管理、定期ローテーション |
| API レート制限 | 中 | レート制限を監視、バックオフ処理を実装 |

---

## 11. 今後の拡張案

- 機能XXXの追加
- パフォーマンス改善
- CI/CD パイプラインの整備
- 監視・アラート機能の追加

---

## 参考資料

- [公式ドキュメント](https://example.com)
- [技術ブログ](https://example.com)

---

**最終更新日**: YYYY-MM-DD
